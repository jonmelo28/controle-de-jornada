<%- include('partials/header') %>

<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>Saldo de Hora</h2>
</div>

<form class="row g-3 mb-4" method="GET" action="/relatorio_saldo/saldo-total">
  <div class="col-md-3">
    <label class="form-label">De</label>
    <input type="date" name="data_inicio" class="form-control" value="<%= filtros.data_inicio %>" required>
  </div>
  <div class="col-md-3">
    <label class="form-label">Até</label>
    <input type="date" name="data_fim" class="form-control" value="<%= filtros.data_fim %>" required>
  </div>
  <div class="col-md-3 d-flex align-items-end gap-2">
    <button class="btn btn-primary w-100" type="submit"><i class="bi bi-funnel"></i> Filtrar</button>
    <a class="btn btn-outline-secondary w-100" href="/relatorio_saldo/saldo-total"><i class="bi bi-recycle"></i> Limpar</a>
  </div>
</form>

<div class="row g-4">
  <div class="col-12 col-lg-6">
    <div class="card shadow-sm">
      <div class="card-header fw-bold text-center">MOTORISTA</div>
      <div class="card-body p-0">
        <div class="table-responsive">
          <table class="table table-striped table-hover align-middle mb-0">
            <thead class="table-dark">
              <tr>
                <th>NOME</th>
                <th class="text-end">SALDO DE HORAS</th>
              </tr>
            </thead>
            <tbody>
              <% if (motoristas.length === 0) { %>
                <tr><td colspan="2" class="text-center text-muted py-4">Sem dados no período</td></tr>
              <% } else { %>
                <% motoristas.forEach(m => { %>
                  <tr>
                    <td><%= m.nome %></td>
                    <td class="text-end"><%= m.saldo_hhmm %></td>
                  </tr>
                <% }) %>
              <% } %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="col-12 col-lg-6">
    <div class="card shadow-sm">
      <div class="card-header fw-bold text-center">AJUDANTE</div>
      <div class="card-body p-0">
        <div class="table-responsive">
          <table class="table table-striped table-hover align-middle mb-0">
            <thead class="table-dark">
              <tr>
                <th>NOME</th>
                <th class="text-end">SALDO DE HORAS</th>
              </tr>
            </thead>
            <tbody>
              <% if (ajudantes.length === 0) { %>
                <tr><td colspan="2" class="text-center text-muted py-4">Sem dados no período</td></tr>
              <% } else { %>
                <% ajudantes.forEach(a => { %>
                  <tr>
                    <td><%= a.nome %></td>
                    <td class="text-end"><%= a.saldo_hhmm %></td>
                  </tr>
                <% }) %>
              <% } %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('partials/footer') %>
