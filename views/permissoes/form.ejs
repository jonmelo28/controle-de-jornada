<%- include('../partials/header') %>
<div class="container py-4" style="max-width: 720px;">
  <h4><%= perm ? 'Editar Permissão' : 'Nova Permissão' %></h4>

  <% if (erro) { %><div class="alert alert-danger"><%= erro %></div><% } %>

  <form method="post" action="<%= perm ? '/permissoes/' + perm.id + '/editar' : '/permissoes/novo' %>">
    <div class="mb-3">
      <label class="form-label">Chave (ex.: jornada:ver, jornada:editar)</label>
      <input class="form-control" name="chave" required value="<%= perm ? perm.chave : '' %>">
    </div>
    <div class="mb-3">
      <label class="form-label">Descrição</label>
      <input class="form-control" name="descricao" value="<%= perm ? (perm.descricao || '') : '' %>">
    </div>

    <div class="d-flex gap-2">
      <button class="btn btn-primary" type="submit"><%= perm ? 'Salvar' : 'Criar' %></button>
      <a class="btn btn-light" href="/permissoes">Voltar</a>
    </div>
  </form>
</div>
<%- include('../partials/footer') %>
